---
layout: post
title: "Monolithic Architecture 
<br>vs. Micro Service Architecture"
author: "Lin"
tags: 개발지식
---

## Monolithic Architecture
기존의 전통적인 웹 시스템 개발 스타일로, 하나의 애플리케이션 내에 모든 로직이 들어가 있는 ‘통짜 구조’이다. 애플리케이션의 소스코드는 하나의 프로젝트로 구성되어 있으며 단일한 패키지로 배포되게 된다.


##### 장점

1. 로컬 환경에서 개발하기 용이
2. 통합 시나리오 테스트를 수행하기 가장 손쉬운 구성
3. 모든 코드가 하나의 묶음으로 구성되어 있기 때문에 배포 간편.



##### 단점

: 서비스가 지속적으로 성장하고 규모가 커질 때 한계에 부딪힘
1. 서비스 복잡도가 증가하면서 배포 시간의 증가
2. 부분적 스케일 아웃의 어려움
3. 안정성 감소
4. 프로그래밍 언어 또는 프레임워크의 변경 어려움 (개발 언어에 종속적 & 기능별로 알맞는 기술, 언어, 프레임워크를 선택하기가 까다로움)
5. 하나의 서비스가 모든 서비스에 영향 (일부 모듈의 변경사항이 전체 어플리케이션 개발/운영 프로세스와 패키징에 영향)

<br>
<hr>
<br>

## Micro Service Architecture
하나의 큰 어플리케이션을 여러 개의 작은 어플리케이션으로 쪼개어 변경과 조합이 가능하도록 가능하도록 만든 아키텍처를 말한다. 어플리케이션을 특화된 기능별로 나누게 되면 자연스럽게 애플리케이션의 추상화(abstraction)가 가능해진다.



##### 필요한 상황

1. 애플리케이션의 배포에 한 시간 이상 소요된다.
2. 단순한 기능 하나를 수정해도 전체 기능에 대한 QA가 필요하다.
3. 단순한 버그 수정이 더 중대한 버그를 생산하는 일이 많아졌다.
4. 현재의 애플리케이션을 기능별로 나눈다고 가정했을 때 수십개의 마이크로서비스가 가능하다.



##### 장점

: 서비스의 규모가 커지고 복잡도가 증가할 수록 여러가지 장점 보유
1. 개별적으로 독립적인 단위의 애플리케이션이기 때문에 변경 용이
2. 변경이 다른 서비스에 미치는 영향이 적음
3. 개별 서비스 단위의 배포가 가능하기 때문에 하루에도 필요에 따라 여러 번 배포 가능
4. 해당 기능에 맞는 기술, 언어 등을 선택하여 사용 가능
5. 비용적인 측면에서 부하가 집중되는 특정 서비스를 위해 전체 애플리케이션을 스케일 아웃할 필요가 없기 때문에 불필요한 자원의 낭비 절약 가능 (효율적인 자원 사용)
6. 개발 조직과 나아가서 회사의 조직 문화에 큰 영향



##### 단점

1. 모놀리틱 아키텍처에 비해 서비스 간의 통신에 대한 처리가 추가적으로 필요 -> 응답속도 증가, 분산된 데이터베이스는 트랜잭션 관리가 용이하지 않기에 데이터의 정합성을 맞추기 위한 노력 추가 요구
2. 수 많은 서비스를 배포하고 관리하는 데에 어려움 -> 배포 자동화 필요 (Pass나 Docker 같은 컨테이너 기술 이용하면 많은 부분 해소 가능)
3. 잦은 통신 오류
4. 테스팅 복잡도 상승 (테스트를 위해 여러 서비스에 걸쳐서 테스트를 진행)



