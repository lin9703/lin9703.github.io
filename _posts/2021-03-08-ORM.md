---
layout: post
title: "ORM"
author: "Lin"
tags: 데이터베이스 
---
### CS Study Day 21 - Part2

<br>

## ORM
> Object Relational Mapping, 객체-관계 매핑

- 객체와 관계형 데이터베이스의 데이터를 `자동으로 매핑(연결)해주는 것`을 말한다.
    - 객체 지향 프로그래밍은 클래스를 사용하고, 관계형 데이터베이스는 테이블을 사용한다.
    - 객체 모델과 관계형 모델 간에 불일치가 존재한다.
    - ORM을 통해 객체 간의 관계를 바탕으로 SQL을 자동으로 생성하여 불일치를 해결한다.
- 데이터베이스 데이터 <—매핑—> Object 필드
    - 객체를 통해 간접적으로 데이터베이스 데이터를 다룬다.

<br>

## ORM 장단점 
### 장점
1. 객체 지향적인 코드로 인해 더 직관적이고 비즈니스 로직에 더 집중할 수 있게 도와준다.
    - ORM을 이용하면 SQL Query가 아닌 직관적인 코드(메서드)로 데이터를 조작할 수 있어 개발자가 객체 모델로 프로그래밍하는 데 집중할 수 있도록 도와준다.
2. 객체 지향적인 코드로 인해 더 직관적이고 비즈니스 로직에 더 집중할 수 있게 도와준다.
    - ORM은 독립적으로 작성되어있고, 해당 객체들을 재활용 할 수 있다.
    - 매핑정보가 명확하여, ERD를 보는 것에 대한 의존도를 낮출 수 있다.
3. 객체 지향적인 코드로 인해 더 직관적이고 비즈니스 로직에 더 집중할 수 있게 도와준다.
   - 객체 간의 관계를 바탕으로 SQL을 자동으로 생성하기 때문에 RDBMS의 데이터 구조와 Java의 객체지향 모델 사이의 간격을 좁힐 수 있다.

<br>

### 단점 
1. 완벽한 ORM 으로만 서비스를 구현하기가 어렵다.
    - 잘못 구현된 경우에 속도 저하 및 심각할 경우 일관성이 무너지는 문제점이 생길 수 있다.
2. 프로시저가 많은 시스템에선 ORM의 객체 지향적인 장점을 활용하기 어렵다.
    - 이미 프로시저가 많은 시스템에선 다시 객체로 바꿔야하며, 그 과정에서 생산성 저하나 리스크가 많이 발생할 수 있다.

- 응용프로그램이 능동적으로 라이브러리를 사용 : 기능들을 어떻게 사용할지 사용자가 결정
- 부품이 되는 소프트웨어의 집합
- 작은 기능들을 함수 단위로 만들어 제공
- 기능들을 어떻게 사용할지 사용자가 결정
- 대체가능한 다른것을 찾기 쉬움

<br>

## 객체-관계 간의 불일치
다음과 같은 특성에서 객체-관계 간의 불일치가 생긴다.

1. 세분성(Granularity)
    - 경우에 따라서 데이터베이스에 있는 테이블 수보다 더 많은 클래스를 가진 모델이 생길 수 있다.

2. 상속성(Inheritance)
    - RDBMS는 객체지향 프로그래밍 언어의 특징인 상속 개념이 없다.

3. 일치(Identity)
    - RDBMS는 기본키(primary key)를 이용하여 동일성을 정의한다. 그러나 자바는 객체 식별(a==b)과 객체 동일성(a.equals(b))을 모두 정의한다.

4. 연관성(Associations)
    - 객체지향 언어는 방향성이 있는 객체의 참조(reference)를 사용하여 연관성을 나타내지만 RDBMS는 방향성이 없는 외래키(foreign key)를 이용해서 나타낸다.

5. 탐색(Navigation)
    - 자바와 RDBMS에서 객체를 접근하는 방법이 근본적으로 다르다. 자바는 그래프형태로 하나의 연결에서 다른 연결로 이동하며 탐색한다. 그러나 RDBMS에서는 일반적으로 SQL문을 최소화하고 JOIN을 통해 여러 엔티티를 로드하고 원하는 대상 엔티티를 선택하는 방식으로 탐색한다.



<br>

[출처]

- <https://gmlwjd9405.github.io/2019/02/01/orm.html/>
- <https://geonlee.tistory.com/207>