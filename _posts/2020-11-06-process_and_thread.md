---
layout: post
title: "Process와 Thread"
author: "Lin"
tags: 운영체제
---


## 프로세스 
프로세스는 _실행 중인 프로그램_ 으로 _디스크로부터 메모리에 적재되어 CPU의 할당을 받을 수 있는 것_ 을 의미한다. 
운영체제로부터 주소 공간, 파일, 메모리 등을 할당받으며 이를 총칭하여 프로세스라고 한다. 임시 자료를 갖는 프로세스 스택과 전역 변수들을 수록하는 데이터 섹션, 동적으로 할당되는 메모리인 힙도 포함된다.

<br>

## 쓰레드 
_프로세스의 실행 단위_ 이다. 한 프로세스 내에서 동작되는 여러 실행 흐름으로 프로세스 내의 주소 공간이나 자원을 공유할 수 있다. 하나의 프로세스를 다수의 실행 단위로 구분하여 자원을 공유하고 자원의 생성과 관리의 중복성을 최소화하여 수행 능력을 향상시키는 것을 멀티 쓰레딩이라 한다.

### 멀티 쓰레딩의 장점 
프로세스를 이용하여 동시에 처리하던 일을 레드로 구현할 경우 메모리 공간과 시스템 자원 소모가 줄어들게 된다. 
쓰레드 간의 통신이 필요한 경우에도 별도의 자원을 이용하는 것이 아니라 Heap 영역을 이용하여 데이터를 주고받을 수 있다. 

### 멀티 쓰레딩의 문제점
멀티 프로세스 기반은 프로세스 간 공유하는 자원이 없기 때문에 동일한 자원에 동시에 접근하는 일이 없었지만 멀티 쓰레딩을 기반으로 프로그래밍 할 때는 동기화 문제가 생길 수 있다. 서로 다른 스레드가 데이터와 힙 영역을 공유하기 때문에 어떤 쓰레드가 다른 쓰레드에서 사용중인 변수나 자료구조에 접근하여 엉뚱한 값을 읽어오거나 수정할 수 있다. 
<br> 그래서 멀티 쓰레딩 환경에서는 동기화 작업이 필요하다. 동기화를 통해 작업 처리 순서와 공유 자원에 대한 접근을 컨트롤 하는 것이다.

<br>

## 멀티 쓰레드 vs 멀티 프로세스
멀티 쓰레드는 메모리 공간 절약과 문맥 전환이 빠르다는 장점이 있지만 오류로 인해 하나의 쓰레드가 종료되면 다른 쓰레드도 종료된다는 문제점과 동기화 문제를 안고 있다. 
<br>반면에 멀티 프로세스는 하나가 죽더라도 다른 프로세스에는 영향을 끼치지 않지만, 멀티 쓰레드보다 많은 메모리 공간과 CPU 시간을 차지한다는 단점이 존재한다. 
